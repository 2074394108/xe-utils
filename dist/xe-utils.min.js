/**
 * xe-utils.js v1.5.26
 * (c) 2017-2018 Xu Liangzhan
 * ISC License.
 * @preserve
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.XEUtils=n()}(this,function(){"use strict";function e(){}function n(e){var n=[];return oe.isArray(e)&&oe.arrayEach(e,function(e){n.includes(e)||n.push(e)}),n}function t(){for(var e=[],t=0,r=arguments.length;t<r;t++)e=e.concat(arguments[t]);return n(e)}function r(e,n,t){return oe.isArray(e)?e.sort(n?oe.isFunction(n)?n.bind(t||this):function(e,t){return e[n]>t[n]?1:-1}:function(e,n){return e>n?1:-1}):e}function i(e){for(var n=[],t=oe.objectValues(e),r=t.length-1;r>=0;r--){var i=r>0?de.getRandom(0,r):0;n.push(t[i]),t.splice(i,1)}return n}function o(e,n){var t=i(e);return 1===arguments.length?t[0]:(n<t.length&&(t.length=n||0),t)}function a(e,n,t){if(e){if(t=t||this,oe.isArray(e))return e.some(n,t);for(var r in e)if(e.hasOwnProperty(r)&&n.call(t,e[r],r,e))return!0}return!1}function u(e,n,t){if(e){if(t=t||this,oe.isArray(e))return e.every(n,t);for(var r in e)if(e.hasOwnProperty(r)&&!n.call(t,e[r],r,e))return!1}return!0}function s(e,n,t){if(e){if(t=t||this,oe.isArray(e))return e.filter(n,t);var r={};return oe.each(e,function(i,o){n.call(t,i,o,e)&&(r[o]=i)}),r}return[]}function c(e,n,t){if(e){if(t=t||this,oe.isArray(e))return e.find(n,t);for(var r in e)if(e.hasOwnProperty(r)&&n.call(t,e[r],r,e))return e[r]}}function f(e,n,t){var r=[];if(e){if(t=t||this,oe.isArray(e))return e.map(n,t);oe.each(e,function(){r.push(n.apply(t,arguments))})}return r}function l(e,n,t){var r=0;return t=t||this,oe.each(e,n?oe.isFunction(n)?function(){r+=n.apply(t,arguments)}:function(e,t){r+=e[n]}:function(e,n){r+=e}),r}function h(e){return"function"==typeof e}function y(e){return"string"==typeof e}function p(e){return"number"==typeof e}function g(e){return"object"==typeof e}function d(e){return!!e&&e.constructor===Object}function m(e){return"[object Date]"===K.call(e)}function v(e){return"undefined"!=typeof Symbol&&Symbol.isSymbol?Symbol.isSymbol(e):"symbol"==typeof e}function b(e){return function(n,t){if(n){if(y(n)||L(n))return e(n,t);for(var r in n)if(t===n[r])return r}return-1}}function S(e,n){return-1!==X(e,n)}function M(e,n,t){for(var r,i=1,o=n.length;i<o;i++)r=n[i],E(j(n[i]),function(n){e[n]=t?A(r[n],t):r[n]});return e}function j(e){var n=[];if(e){if(Object.keys)return Object.keys(e);N(e,function(e,t){n.push(t)})}return n}function x(e){if(Object.values)return e?Object.values(e):[];var n=[];return E(j(e),function(t){n.push(e[t])}),n}function D(e){if(Object.entries)return e?Object.entries(e):[];var n=[];return E(j(e),function(t){n.push([t,e[t]])}),n}function O(e){return x(e)[0]}function w(e){var n=x(e);return n[n.length-1]}function N(e,n,t){for(var r in e)e.hasOwnProperty(r)&&n.call(t||this,e[r],r,e)}function E(e,n,t){for(var r=0,i=e.length||0;r<i;r++)n.call(t||this,e[r],r,e)}function F(e,n,t){return e?L(e)?h(e.forEach)?e.forEach(n,t||this):E(e,n,t||this):N(e,n,t||this):e}function T(n){return d(n)?function(e){var n={};return F(e,function(e,t){n[t]=T(e)}),n}(n):L(n)?function(n){return e.arrayMap(n,T)}(n):n}function A(e,n){return e?n?T(e):_(d(e)?{}:[],e):e}function I(e,n){var t=parseFloat(n),r=new Date,i=r.getTime();switch(e){case"y":return ye.getWhatYear(r,t).getTime();case"M":return ye.getWhatMonth(r,t).getTime();case"d":return ye.getWhatDay(r,t).getTime();case"H":return i+60*t*60*1e3;case"m":return i+60*t*1e3;case"s":return i+1e3*t}return i}function H(e){return(oe.isDate(e)?e:new Date(e)).toUTCString()}function k(e,n,t){var r=[],i="undefined"!=typeof document;if(this&&this.$context&&(this.$context=null),oe.isArray(e)?r=e:arguments.length>1?r=[oe.objectAssign({name:e,value:n},t)]:oe.isObject(e)&&(r=[e]),!(r.length>0)){var o={};return i&&document.cookie&&oe.arrayEach(document.cookie.split("; "),function(e){var n=e.indexOf("=");o[ue(e.substring(0,n))]=ue(e.substring(n+1)||"")}),1===arguments.length?o[e]:o}i&&oe.arrayEach(r,function(e){var n=oe.objectAssign({},e),t=[];if(n.name){var r=n.expires;t.push(se(n.name)+"="+se(oe.isObject(n.value)?JSON.stringify(n.value):n.value)),r&&(isNaN(r)?n.expires=r.replace(/^([0-9]+)(y|M|d|H|m|s)$/,function(e,n,t){return H(I(t,n))}):/^[0-9]{11,13}$/.test(r)||oe.isDate(r)?n.expires=H(r):n.expires=H(I("d",r))),oe.arrayEach(["expires","path","domain","secure"],function(e){void 0!==n[e]&&t.push(n[e]&&"secure"===e?e:e+"="+n[e])})}document.cookie=t.join("; ")})}function P(e,n){if(e){if(oe.isDate(e))return e;if(!isNaN(e))return new Date(e);if(oe.isString(e)){n=n||"yyyy-MM-dd HH:mm:ss.SSS";var t=[];return oe.arrayEach(le,function(r){for(var i,o,a=0,u=r.rules,s=u.length;a<s;a++){if(i=u[a],(o=n.indexOf(i[0]))>-1){t.push(parseFloat(e.substring(o,o+i[1])||0)+(r.offset||0));break}a===s-1&&t.push(0)}}),new Date(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}}return"Invalid Date"}function R(e,n,t){var r=P(e),i=n&&!isNaN(n)?n:0,o=r.getHours(),a=r.getMinutes(),u=r.getSeconds(),s=r.getMilliseconds();if("first"===t){var c=r.getFullYear(),f=r.getMonth();return(f+=i)<0?new Date(c-Math.ceil((f=Math.abs(f))/12),12-(f%12||1),1,o,a,u,s):new Date(c+Math.floor(f/12),f%12,1,o,a,u,s)}if("last"===t)return new Date(R(r,i+1,"first").getTime()-864e5);var l=r.getDate(),h=R(r,i,"first"),y=h.getMonth();for(h.setDate(l);y<h.getMonth();)h.setDate(--l);return h}function U(e){var n={},t=e.split("?")[1]||"";return t&&oe.arrayEach(t.split("&"),function(e){var t=e.split("=");n[decodeURIComponent(t[0])]=decodeURIComponent(t[1]||"")}),n}function W(){return pe?pe.origin||pe.protocol+"//"+pe.host:""}function Y(e){var n=""+e;0===n.indexOf("/")&&(n=W()+n);var t=n.replace(/#.*/,"").match(/(\?.*)/),r={href:n,hash:"",host:"",hostname:"",protocol:"",port:"",search:t?t[1]:""};r.path=n.replace(/^([a-z0-9.+-]*:)\/\//,function(e,n){return r.protocol=n,""}).replace(/^([a-z0-9.+-]*)(:\d+)?\//,function(e,n,t){var i=t||"";return r.port=i.replace(":",""),r.hostname=n,r.host=n+i,"/"}).replace(/(#.*)/,function(e,n){return r.hash=n,""});var i=r.hash.match(/#((.*)\?|(.*))/);return r.pathname=r.path.replace(/(\?|#.*).*/,""),r.origin=r.protocol+"//"+r.host,r.hashKey=i?i[2]||"":"",r.hashQuery=U(r.hash),r.searchQuery=U(r.search),r}function $(e,n){return oe.isFunction(n)?z.arraySort(z.arrayMap(e,n,this)):z.arraySort(e,n)}function C(){return $.apply(this,arguments)[0]}function q(){return $.apply(this,arguments).reverse()[0]}function J(e){if(e){var n=parseFloat(e);return isNaN(n)?0:n}return 0}function B(e){var n=new RegExp("(?:"+oe.objectKeys(e).join("|")+")","g");return function(t){return String(t||"").replace(n,function(n){return e[n]})}}e.version="1.5.26";var z={arrayUniq:n,uniq:n,arrayUnion:t,union:t,arraySort:r,sort:r,arrayShuffle:i,shuffle:i,arraySample:o,sample:o,arraySome:a,some:a,arrayEvery:u,every:u,arrayFilter:s,filter:s,arrayFind:c,find:c,arrayMap:f,map:f,arraySum:l,sum:l},K=Object.prototype.toString,L=Array.isArray||function(e){return"[object Array]"===K.call(e)},Q=Number.isInteger,V=0,X=b(function(e,n){if(e.indexOf)return e.indexOf(n);for(var t=0,r=e.length;t<r;t++)if(n===e[t])return t}),G=b(function(e,n){if(e.lastIndexOf)return e.lastIndexOf(n);for(var t=e.length-1;t>=0;t--)if(n===e[t])return t;return-1}),Z=S,_=function(e){if(e){var n=arguments;if(!0!==e)return Object.assign?Object.assign.apply(Object,n):M(e,n);if(n.length>1)return e=L(e[1])?[]:{},M(e,n,!0)}return e},ee=j,ne=x,te=D,re=O,ie=w,oe={isNaN:isNaN,isFinite:isFinite,isArray:L,isFloat:function(e){return null!==e&&!isNaN(e)&&!Q(e)},isInteger:Q,isFunction:h,isBoolean:function(e){return"boolean"==typeof e},isString:y,isNumber:p,isRegExp:function(e){return"[object RegExp]"===K.call(e)},isObject:g,isPlainObject:d,isDate:m,isError:function(e){return"[object Error]"===K.call(e)},isTypeError:function(e){return!!e&&e.constructor===TypeError},isEmpty:function(e){if(0===e||!p(e)){for(var n in e)return!1;return!0}return!1},isNull:function(e){return null===e},isSymbol:v,isArguments:function(e){return"[object Arguments]"===K.call(e)},isElement:function(e){return e&&y(e.nodeName)&&p(e.nodeType)},isDocument:function(e){return e&&9===e.nodeType&&"undefined"!=typeof document},isWindow:function(e){return e&&e===e.window&&"undefined"!=typeof window},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isLeapYear:function(n){var t=(n?e.stringToDate(n):new Date).getFullYear();return t%4==0&&(t%100!=0||t%400==0)},getType:function(e){return null===e?""+e:v(e)?"symbol":m(e)?"date":L(e)?"array":typeof e},uniqueId:function(){return++V},getSize:function(e){var n=0;return y(e)||L(e)?e.length:(F(e,function(){n++}),n)},lastIndexOf:G,includes:S,contains:Z,objectAssign:_,assign:_,extend:_,stringToJson:function(e){if(g(e))return e;if(y(e))try{return JSON.parse(e)}catch(e){console.error(e)}return{}},jsonToString:function(e){if(g(e))try{return JSON.stringify(e)}catch(e){console.error(e)}return e?""+e:""},objectKeys:j,keys:ee,objectValues:x,values:ne,objectEntries:D,entries:te,arrayFirst:O,first:re,arrayLast:w,last:ie,objectEach:N,arrayEach:E,each:F,groupBy:function(e,n,t){var r,i,o={};return e&&(y(n)?(i=n,n=null):n=h(n)?n.bind(t||this):i=null,F(e,function(t,a){r=n?n(t,a,e):i?t[i]:t,o[r]?o[r].push(t):o[r]=[t]})),o},objectMap:function(e,n,t){var r={};return F(e,function(i,o){r[o]=n.call(t||this,i,o,e)}),r},clone:A},ae={browse:function(){var e={isNode:!1,isMobile:!1,isPC:!1};if("undefined"==typeof window&&"undefined"!=typeof process)e.nodeJS=!0;else if(e.isMobile=function(){for(var e=["Android","webOS","iPhone","iPad","iPod","SymbianOS","BlackBerry","Windows Phone"],n=navigator.userAgent,t=0;t<e.length;t++)if(n.indexOf(e[t])>0)return!0;return!1}(),e.isPC=!e.isMobile,"undefined"!=typeof document){var n=document.body||document.documentElement;oe.arrayEach(["webkit","khtml","moz","ms","o"],function(t){e["-"+t]=!!n[t+"MatchesSelector"]})}return e}},ue=decodeURIComponent,se=encodeURIComponent;oe.objectAssign(k,{setItem:function(e,n,t){k(e,n,t)},getItem:function(e){return k(e)},removeItem:function(e){k(e,null,{expires:-1})},getJSON:function(){return k()}});var ce={cookie:k},fe=Date.now||function(){return(new Date).getTime()},le=[{rules:[["yyyy",4],["yyy",3],["yy",2]]},{rules:[["MM",2],["M",1]],offset:-1},{rules:[["dd",2],["d",1]]},{rules:[["HH",2],["H",1]]},{rules:[["mm",2],["m",1]]},{rules:[["ss",2],["s",1]]},{rules:[["SSS",3],["SS",2],["S",1]]}],he=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]],ye={timestamp:fe,now:fe,stringToDate:P,dateToString:function(e,n){if(e){if(e=P(e),oe.isDate(e)){var t=["日","一","二","三","四","五","六"],r={"q+":Math.floor((e.getMonth()+3)/3),"M+":e.getMonth()+1,"E+":e.getDay(),"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),S:e.getMilliseconds()},i=String(n||"yyyy-MM-dd HH:mm:ss").replace(/(y+)/,function(n){return(""+e.getFullYear()).substr(4-n.length)});for(var o in r)if(r.hasOwnProperty(o)){var a=""+r[o];i=i.replace(new RegExp("("+o+")"),function(e){return"q+"===o||"E+"===o?t[a]:1===e.length?a:("00"+a).substr(a.length)})}return i}return e}return""},getWhatYear:function(e,n){var t=P(e);if(n){var r=n&&!isNaN(n)?n:0;t.setFullYear(t.getFullYear()+r)}return t},getWhatMonth:R,getWhatWeek:function(e,n,t){var r=P(e),i=Number(/^[0-7]$/.test(t)?t:r.getDay()),o=r.getDay(),a=r.getTime()+864e5*((0===i?7:i)-(0===o?7:o));return n&&!isNaN(n)&&(a+=6048e5*n),new Date(a)},getWhatDay:function(e,n){var t=P(e);return n?new Date(t.getTime()+(n&&!isNaN(n)?864e5*n:0)):t},getDaysOfMonth:function(e,n){return Math.floor((R(e,n,"last").getTime()-R(e,n,"first").getTime())/864e5)+1},getDateDiff:function(e,n,t){var r={done:!1},i=P(e).getTime(),o=n?P(n).getTime():new Date;if(i<o){var a,u=o-i,s=t&&t.length>0?t:he;r.done=!0;for(var c=0,f=s.length;c<f;c++)u>=(a=s[c])[1]?c===f-1?r[a[0]]=u||0:(r[a[0]]=Math.floor(u/a[1]),u-=r[a[0]]*a[1]):r[a[0]]=0}return r}},pe=null;"undefined"!=typeof location&&(pe=location);var ge={parseUrl:Y,getBaseURL:function(){if(pe){var e=pe.pathname,n=oe.lastIndexOf(e,"/")+1;return W()+(n===e.length?e:e.substring(0,n))}return""},locat:function(){return pe?Y(pe.href):{}}},de={getRandom:function(e,n){return e>=n?e:(e>>=0)+Math.round(Math.random()*((n||9)-e))},arrayMin:C,min:C,arrayMax:q,max:q,commafy:function(e,n){var t=oe.objectAssign({spaceNumber:3,separator:",",fixed:0},n),r=parseFloat((""+e).replace(/,/g,"")||0).toFixed(t.fixed).split(".");return r[0].replace(new RegExp("(?=(?!(\\b))(\\d{"+t.spaceNumber+"})+$)","g"),t.separator)+(r[1]?"."+r[1]:"")},toNumber:J,stringToNumber:J},me={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ve={};oe.arrayEach(oe.objectKeys(me),function(e){ve[me[e]]=e});var be={escape:B(me),unescape:B(ve)},Se={};return oe.objectAssign(Se,z,oe,ae,ce,ye,ge,de,be),e.mixin=function(n){Se.objectEach(n,function(n,t){e[t]=-1==="cookie".indexOf(t)&&Se.isFunction(n)?function(){var t=n.apply(e.$context,arguments);return e.$context=null,t}:n})},e.mixin(Se),e});