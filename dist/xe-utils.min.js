/*!
 * xe-utils.js v1.5.1
 * (c) 2017-2018 Xu Liangzhan
 * ISC License.
 */
(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?module.exports=a():typeof define==="function"&&define.amd?define(a):(b.XEUtils=a())}(this,function(){var Z=window.isNaN;var aJ=window.isFinite;var b=Array.isArray||function(a2){return Object.prototype.toString.call(a2)==="[object Array]"};function f(a2){return a2!==null&&!Z(a2)&&!Y(a2)}var Y=Number.isInteger;function aD(a2){return typeof a2==="function"}function aH(a2){return typeof a2==="boolean"}function aN(a2){return typeof a2==="string"}function Q(a2){return typeof a2==="number"}function ar(a2){return a2?a2.constructor===RegExp:false}function I(a2){return typeof a2==="object"}function G(a2){return a2?a2.constructor===Object:false}function g(a2){return a2?a2.constructor===Date:false}function c(a2){return a2?a2.constructor===Error:false}function am(a2){return a2?a2.constructor===TypeError:false}function l(a3){if(a3===0||!Q(a3)){for(var a2 in a3){return false}return true}return false}function aW(a2){return a2===null}function aI(a2){return typeof Symbol!=="undefined"&&Symbol.isSymbol?Symbol.isSymbol(a2):(typeof a2==="symbol")}function d(a2){return String(a2)==="[object Arguments]"}function ai(a2){return a2&&aN(a2.nodeName)&&Q(a2.nodeType)}function aM(a2){return a2&&a2.nodeType===9}function O(a2){return a2&&a2===a2.window}function aU(a2){return typeof FormData!=="undefined"&&a2 instanceof FormData}function al(a3){var a2=a3?A(a3):new Date();var a4=a2.getFullYear();return(a4%4===0)&&(a4%100!==0||a4%400===0)}function x(a2){if(a2===null){return""+a2}if(aI(a2)){return"symbol"}if(g(a2)){return"date"}if(b(a2)){return"array"}return typeof a2}var H=0;function ab(){return ++H}function k(a3){var a2=0;if(aN(a3)||b(a3)){return a3.length}aX(a3,function(){a2++});return a2}function aq(a2){return function(a4,a5){if(a4){if(aN(a4)||b(a4)){return a2(a4,a5)}for(var a3 in a4){if(a5===a4[a3]){return a3}}}return -1}}var m=aq(function(a4,a5){if(a4.indexOf){return a4.indexOf(a5)}for(var a3=0,a2=a4.length;a3<a2;a3++){if(a5===a4[a3]){return a3}}});var az=aq(function(a3,a4){if(a3.lastIndexOf){return a3.lastIndexOf(a4)}for(var a2=a3.length-1;a2>=0;a2--){if(a4===a3[a2]){return a2}}return -1});function J(a2,a3){return m(a2,a3)!==-1}var U=J;var a1=Object.assign||function(a5){if(a5){for(var a4,a3=1,a2=arguments.length;a3<a2;a3++){a4=arguments[a3];av(v(arguments[a3]),function(a6){a5[a6]=a4[a6]})}}return a5};var aG=a1;var aa=a1;function ae(a3){if(I(a3)){return a3}else{if(aN(a3)){try{return JSON.parse(a3)}catch(a2){console.error(a2)}}}return{}}function ay(a3){if(I(a3)){try{return JSON.stringify(a3)}catch(a2){console.error(a2)}}return a3?""+a3:""}function v(a3){var a2=[];if(a3){if(Object.keys){return Object.keys(a3)}aA(a3,function(a5,a4){a2.push(a4)})}return a2}var M=v;function P(a3){if(Object.values){return a3?Object.values(a3):[]}var a2=[];av(v(a3),function(a4){a2.push(a3[a4])});return a2}var B=P;function aF(a3){if(Object.entries){return a3?Object.entries(a3):[]}var a2=[];av(v(a3),function(a4){a2.push([a4,a3[a4]])});return a2}var aP=aF;function o(a2){return P(a2)[0]}var ak=o;function E(a3){var a2=P(a3);return a2[a2.length-1]}var V=E;function aA(a4,a5,a3){for(var a2 in a4){if(a4.hasOwnProperty(a2)){a5.call(a3,a4[a2],a2,a4)}}}function av(a5,a6,a4){for(var a3=0,a2=a5.length||0;a3<a2;a3++){a6.call(a4,a5[a3],a3,a5)}}function aX(a3,a4,a2){if(a3){if(b(a3)){if(aD(a3.forEach)){return a3.forEach(a4,a2)}return av(a3,a4,a2)}return aA(a3,a4,a2)}return a3}function ad(a6,a7,a5){var a4,a3;var a2={};if(a6){if(aN(a7)){a3=a7;a7=null}else{if(aD(a7)){a7=a7.bind(a5)}else{a7=a3=null}}aX(a6,function(a9,a8){a4=a7?a7(a9,a8,a6):(a3?a9[a3]:a9);if(a2[a4]){a2[a4].push(a9)}else{a2[a4]=[a9]}})}return a2}function s(a4,a5,a3){var a2={};aX(a4,function(a7,a6){a2[a6]=a5.call(a3,a7,a6,a4)});return a2}function u(a3){var a2={};aX(a3,function(a5,a4){a2[a4]=an(a5)});return a2}function a(a2){return aC(a2,function(a4,a3){return an(a4)})}function an(a2){return G(a2)?u(a2):b(a2)?a(a2):a2}function C(a3,a2){return a2?an(a3):a1(G(a3)?{}:[],a3)}function au(a3){var a2=[];if(b(a3)){av(a3,function(a4){if(!a2.includes(a4)){a2.push(a4)}})}return a2}var aV=au;function R(){var a3=[];for(var a4=0,a2=arguments.length;a4<a2;a4++){a3=a3.concat(arguments[a4])}return au(a3)}var aQ=R;function r(a2,a4,a3){if(b(a2)){return a2.sort(a4?aD(a4)?a4.bind(a3||this):function(a6,a5){return a6[a4]>a5[a4]?1:-1}:function(a6,a5){return a6>a5?1:-1})}return a2}var N=r;function n(a6){var a3=[];for(var a5=P(a6),a2=a5.length-1;a2>=0;a2--){var a4=a2>0?L(0,a2):0;a3.push(a5[a4]);a5.splice(a4,1)}return a3}var j=n;function ac(a4,a3){var a2=n(a4);if(arguments.length===1){return a2[0]}if(a3<a2.length){a2.length=a3||0}return a2}var aR=ac;function i(a4,a5,a3){if(a4){if(b(a4)){return a4.some(a5,a3)}else{for(var a2 in a4){if(a4.hasOwnProperty(a2)){if(a5.call(a3,a4[a2],a2,a4)){return true}}}}}return false}var D=i;function y(a4,a5,a3){if(a4){if(b(a4)){return a4.every(a5,a3)}else{for(var a2 in a4){if(a4.hasOwnProperty(a2)){if(!a5.call(a3,a4[a2],a2,a4)){return false
}}}}}return true}var ap=y;function aZ(a4,a5,a3){if(a4){if(b(a4)){return a4.filter(a5,a3)}else{var a2={};aX(a4,function(a7,a6){if(a5.call(a3,a7,a6,a4)){a2[a6]=a7}});return a2}}return[]}var F=aZ;function ax(a4,a5,a3){if(a4){if(b(a4)){return a4.find(a5,a3)}else{for(var a2 in a4){if(a4.hasOwnProperty(a2)){if(a5.call(a3,a4[a2],a2,a4)){return a4[a2]}}}}}}var aY=ax;function aC(a4,a5,a3){var a2=[];if(a4){if(b(a4)){return a4.map(a5,a3)}else{aX(a4,function(){a2.push(a5.apply(a3,arguments))})}}return a2}var w=aC;var a0=Date.now||function(){return new Date().getTime()};var aK=a0;function A(a4,a3){if(a4){if(g(a4)){return a4}if(!Z(a4)){return new Date(a4)}if(aN(a4)){a3=a3||"yyyy-MM-dd HH:mm:ss.SSS";var a2=[];av([{rules:[["yyyy",4],["yyy",3],["yy",2]]},{rules:[["MM",2],["M",1]],offset:-1},{rules:[["dd",2],["d",1]]},{rules:[["HH",2],["H",1]]},{rules:[["mm",2],["m",1]]},{rules:[["ss",2],["s",1]]},{rules:[["SSS",3],["SS",2],["S",1]]}],function(a9){for(var a6,a8,a7=0,ba=a9.rules,a5=ba.length;a7<a5;a7++){a6=ba[a7];a8=a3.indexOf(a6[0]);if(a8>-1){a2.push(parseFloat(a4.substring(a8,a8+a6[1])||0)+(a9.offset||0));break}else{if(a7===a5-1){a2.push(0)}}}});return new Date(a2[0],a2[1],a2[2],a2[3],a2[4],a2[5],a2[6])}}return"Invalid Date"}function aj(a4,a6){a4=A(a4);if(g(a4)){var a3=a6||"yyyy-MM-dd HH:mm:ss";var a5=["日","一","二","三","四","五","六"];var a2={"q+":Math.floor((a4.getMonth()+3)/3),"M+":a4.getMonth()+1,"E+":a4.getDay(),"d+":a4.getDate(),"H+":a4.getHours(),"m+":a4.getMinutes(),"s+":a4.getSeconds(),"S":a4.getMilliseconds()};if(/(y+)/.test(a3)){a3=a3.replace(RegExp.$1,(""+a4.getFullYear()).substr(4-RegExp.$1.length))}av(v(a2),function(a7){if(new RegExp("("+a7+")").test(a3)){var a8=""+a2[a7];a3=a3.replace(RegExp.$1,(a7==="q+"||a7==="E+")?a5[a8]:(RegExp.$1.length===1?a8:("00"+a8).substr(a8.length)))}});return a3}return a4}function X(a4,a9,a8){var a3=A(a4);var a5=a9&&!Z(a9)?a9:0;var ba=a3.getHours();var bf=a3.getMinutes();var bb=a3.getSeconds();var a2=a3.getMilliseconds();if(a8==="first"){var bd=a3.getFullYear();var a6=a3.getMonth();if((a6+=a5)<0){return new Date(bd-Math.ceil((a6=Math.abs(a6))/12),12-(a6%12||1),1,ba,bf,bb,a2)}return new Date(bd+Math.floor(a6/12),a6%12,1,ba,bf,bb,a2)}else{if(a8==="last"){return new Date(X(a3,a5+1,"first").getTime()-86400000)}}var bc=a3.getDate();var be=X(a3,a5,"first");var a7=be.getMonth();be.setDate(bc);while(a7<be.getMonth()){be.setDate(--bc)}return be}function aT(a3,a4,a8){var a6=Number(/^[0-7]$/.test(a8)?a8:0);var a2=A(a3);var a5=a2.getDay();var a7=a2.getTime();var a9=a7+((a6===0?7:a6)-(a5===0?7:a5))*86400000;if(a4&&!Z(a4)){a9+=a4*604800000}return new Date(a9)}function aE(a3,a2){return new Date(A(a3).getTime()+(a2&&!Z(a2)?a2*86400000:0))}function t(a2,a3){return Math.floor((X(a2,a3,"last").getTime()-X(a2,a3,"first").getTime())/86400000)+1}function K(a3,a4,a9){var bc={};var a2=A(a3).getTime();var a5=a4?A(a4).getTime():new Date();if(a2<a5){var bb;var ba=a5-a2;var a8=a9&&a9.length>0?a9:[["yyyy",31536000000],["MM",2592000000],["dd",86400000],["HH",3600000],["mm",60000],["ss",1000],["S",0]];for(var a7=0,a6=a8.length;a7<a6;a7++){bb=a8[a7];if(ba>=bb[1]){if(a7===a6-1){if(ba){bc[bb[0]]=ba}}else{bc[bb[0]]=Math.floor(ba/bb[1]);ba-=bc[bb[0]]*bb[1]}}}}return bc}var z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var ag={};av(v(z),function(a2){ag[z[a2]]=a2});function e(a2){var a3=new RegExp("(?:"+v(a2).join("|")+")","g");return function(a4){return String(a4||"").replace(a3,function(a5){return a2[a5]})}}var aL=e(z);var aO=e(ag);function L(a3,a2){return a3>=a2?a3:((a3=a3>>0)+Math.round(Math.random()*((a2||9)-a3)))}function q(a2,a3){return(aD(a3)?r(aC(a2,a3,this)):r(a2,a3))}function W(){return q.apply(this,arguments)[0]}var aS=W;function aw(){return q.apply(this,arguments).reverse()[0]}var p=aw;function at(){var a2={};var a3=document.body||document.documentElement;av(["webkit","khtml","moz","ms","o"],function(a4){a2["-"+a4]=!!a3[a4+"MatchesSelector"]});return a2}function T(a4,a6,a3){var a5=[];if(b(a4)){a5=a4}else{if(arguments.length>1){a5=[a1({name:a4,value:a6},a3)]}else{if(I(a4)){a5=[a4]}}}if(a5.length>0){av(a5,function(a9){var a8=a1({},a9);var a7=[];if(a8.name){a7.push(encodeURIComponent(a8.name)+"="+encodeURIComponent(JSON.stringify(a8.value)));if(a8.expires!==undefined){a8.expires=new Date(a0()+parseFloat(a8.expires)*86400000).toUTCString()}av(["expires","path","domain","secure"],function(ba){if(a8[ba]!==undefined){a7.push(ba+"="+a8[ba])}})}document.cookie=a7.join("; ")})}else{var a2={};if(document.cookie){av(document.cookie.split("; "),function(a8){var a7=a8.split("=");a2[decodeURIComponent(a7[0])]=decodeURIComponent(a7[1]||"")})}return arguments.length===1?a2[a4]:a2}}a1(T,{setItem:function(a2,a3){T(a2,a3)},getItem:function(a2){return T(a2)},removeItem:function(a2){T(a2,null,{expires:-1})},getJSON:function(){return T()}});var ao=location;function S(){return(ao.hash.split("#")[1]||"").split("?")[0]||""}function ah(a3){var a2={};var a4=a3.split("?")[1]||"";if(a4){av(a4.split("&"),function(a6){var a5=a6.split("=");
a2[decodeURIComponent(a5[0])]=decodeURIComponent(a5[1]||"")})}return a2}function h(){return{port:ao.port,href:ao.href,host:ao.host,hostname:ao.hostname,protocol:ao.protocol,origin:ao.origin,hash:S(),query:ah(ao.hash),params:ah(ao.search)}}function af(){}function aB(a2){return a1(af,a2)}aB({isNaN:Z,isFinite:aJ,isArray:b,isFloat:f,isInteger:Y,isFunction:aD,isBoolean:aH,isString:aN,isNumber:Q,isRegExp:ar,isObject:I,isPlainObject:G,isDate:g,isError:c,isTypeError:am,isEmpty:l,isNull:aW,isSymbol:aI,isArguments:d,isElement:ai,isDocument:aM,isWindow:O,isFormData:aU,isLeapYear:al,getType:x,uniqueId:ab,getSize:k,indexOf:m,lastIndexOf:az,includes:J,contains:U,objectAssign:a1,assign:aG,extend:aa,stringToJson:ae,jsonToString:ay,objectKeys:v,keys:M,objectValues:P,values:B,objectEntries:aF,entries:aP,arrayFirst:o,first:ak,arrayLast:E,last:V,objectEach:aA,arrayEach:av,each:aX,groupBy:ad,objectMap:s,clone:C,arrayUniq:au,uniq:aV,arrayUnion:R,union:aQ,arraySort:r,sort:N,arrayShuffle:n,shuffle:j,arraySample:ac,sample:aR,arraySome:i,some:D,arrayEvery:y,every:ap,arrayFilter:aZ,filter:F,arrayFind:ax,find:aY,arrayMap:aC,map:w,dateNow:a0,now:aK,stringToDate:A,dateToString:aj,getWhatMonth:X,getWhatWeek:aT,getWhatDay:aE,getDaysOfMonth:t,getDateDiff:K,escape:aL,unescape:aO,getRandom:L,arrayMin:W,min:aS,arrayMax:aw,max:p});aB({browse:at,cookie:T,locat:h});af.mixin=aB;af.version="1.5.1";return af}));