/**
 * xe-utils.js v1.5.25
 * (c) 2017-2018 Xu Liangzhan
 * ISC License.
 * @preserve
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.XEUtils=n()}(this,function(){"use strict";function e(){}function n(e){var n=[];return re.isArray(e)&&re.arrayEach(e,function(e){n.includes(e)||n.push(e)}),n}function t(){for(var e=[],t=0,r=arguments.length;t<r;t++)e=e.concat(arguments[t]);return n(e)}function r(e,n,t){return re.isArray(e)?e.sort(n?re.isFunction(n)?n.bind(t||this):function(e,t){return e[n]>t[n]?1:-1}:function(e,n){return e>n?1:-1}):e}function i(e){for(var n=[],t=re.objectValues(e),r=t.length-1;r>=0;r--){var i=r>0?pe.getRandom(0,r):0;n.push(t[i]),t.splice(i,1)}return n}function o(e,n){var t=i(e);return 1===arguments.length?t[0]:(n<t.length&&(t.length=n||0),t)}function u(e,n,t){if(e){if(t=t||this,re.isArray(e))return e.some(n,t);for(var r in e)if(e.hasOwnProperty(r)&&n.call(t,e[r],r,e))return!0}return!1}function a(e,n,t){if(e){if(t=t||this,re.isArray(e))return e.every(n,t);for(var r in e)if(e.hasOwnProperty(r)&&!n.call(t,e[r],r,e))return!1}return!0}function s(e,n,t){if(e){if(t=t||this,re.isArray(e))return e.filter(n,t);var r={};return re.each(e,function(i,o){n.call(t,i,o,e)&&(r[o]=i)}),r}return[]}function c(e,n,t){if(e){if(t=t||this,re.isArray(e))return e.find(n,t);for(var r in e)if(e.hasOwnProperty(r)&&n.call(t,e[r],r,e))return e[r]}}function f(e,n,t){var r=[];if(e){if(t=t||this,re.isArray(e))return e.map(n,t);re.each(e,function(){r.push(n.apply(t,arguments))})}return r}function l(e,n,t){var r=0;return t=t||this,re.each(e,n?re.isFunction(n)?function(){r+=n.apply(t,arguments)}:function(e,t){r+=e[n]}:function(e,n){r+=e}),r}function y(e){return"function"==typeof e}function h(e){return"string"==typeof e}function p(e){return"number"==typeof e}function g(e){return"object"==typeof e}function d(e){return!!e&&e.constructor===Object}function m(e){return"[object Date]"===z.call(e)}function v(e){return"undefined"!=typeof Symbol&&Symbol.isSymbol?Symbol.isSymbol(e):"symbol"==typeof e}function b(e){return function(n,t){if(n){if(h(n)||K(n))return e(n,t);for(var r in n)if(t===n[r])return r}return-1}}function x(e,n){return-1!==Q(e,n)}function S(e,n,t){for(var r,i=1,o=n.length;i<o;i++)r=n[i],E(j(n[i]),function(n){e[n]=t?F(r[n],t):r[n]});return e}function j(e){var n=[];if(e){if(Object.keys)return Object.keys(e);N(e,function(e,t){n.push(t)})}return n}function M(e){if(Object.values)return e?Object.values(e):[];var n=[];return E(j(e),function(t){n.push(e[t])}),n}function O(e){if(Object.entries)return e?Object.entries(e):[];var n=[];return E(j(e),function(t){n.push([t,e[t]])}),n}function D(e){return M(e)[0]}function w(e){var n=M(e);return n[n.length-1]}function N(e,n,t){for(var r in e)e.hasOwnProperty(r)&&n.call(t||this,e[r],r,e)}function E(e,n,t){for(var r=0,i=e.length||0;r<i;r++)n.call(t||this,e[r],r,e)}function T(e,n,t){return e?K(e)?y(e.forEach)?e.forEach(n,t||this):E(e,n,t||this):N(e,n,t||this):e}function A(n){return d(n)?function(e){var n={};return T(e,function(e,t){n[t]=A(e)}),n}(n):K(n)?function(n){return e.arrayMap(n,A)}(n):n}function F(e,n){return e?n?A(e):G(d(e)?{}:[],e):e}function I(e,n,t){var r=[],i="undefined"!=typeof document;if(this&&this.$context&&(this.$context=null),re.isArray(e)?r=e:arguments.length>1?r=[re.objectAssign({name:e,value:n},t)]:re.isObject(e)&&(r=[e]),!(r.length>0)){var o={};return i&&document.cookie&&re.arrayEach(document.cookie.split("; "),function(e){var n=e.indexOf("=");o[oe(e.substring(0,n))]=oe(e.substring(n+1)||"")}),1===arguments.length?o[e]:o}i&&re.arrayEach(r,function(e){var n=re.objectAssign({},e),t=[];n.name&&(t.push(ue(n.name)+"="+ue(re.isObject(n.value)?JSON.stringify(n.value):n.value)),n.expires&&(isNaN(n.expires)?n.expires=n.expires:/^[0-9]{11,13}$/.test(n.expires)?n.expires=new Date(n.expires).toUTCString():re.isDate(n.expires)?n.expires=n.expires.toUTCString():n.expires=new Date((new Date).getTime()+864e5*parseFloat(n.expires)).toUTCString()),re.arrayEach(["expires","path","domain","secure"],function(e){void 0!==n[e]&&t.push(n[e]&&"secure"===e?e:e+"="+n[e])})),document.cookie=t.join("; ")})}function k(e,n){if(e){if(re.isDate(e))return e;if(!isNaN(e))return new Date(e);if(re.isString(e)){n=n||"yyyy-MM-dd HH:mm:ss.SSS";var t=[];return re.arrayEach(ce,function(r){for(var i,o,u=0,a=r.rules,s=a.length;u<s;u++){if(i=a[u],(o=n.indexOf(i[0]))>-1){t.push(parseFloat(e.substring(o,o+i[1])||0)+(r.offset||0));break}u===s-1&&t.push(0)}}),new Date(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}}return"Invalid Date"}function H(e,n,t){var r=k(e),i=n&&!isNaN(n)?n:0,o=r.getHours(),u=r.getMinutes(),a=r.getSeconds(),s=r.getMilliseconds();if("first"===t){var c=r.getFullYear(),f=r.getMonth();return(f+=i)<0?new Date(c-Math.ceil((f=Math.abs(f))/12),12-(f%12||1),1,o,u,a,s):new Date(c+Math.floor(f/12),f%12,1,o,u,a,s)}if("last"===t)return new Date(H(r,i+1,"first").getTime()-864e5);var l=r.getDate(),y=H(r,i,"first"),h=y.getMonth();for(y.setDate(l);h<y.getMonth();)y.setDate(--l);return y}function P(e){var n={},t=e.split("?")[1]||"";return t&&re.arrayEach(t.split("&"),function(e){var t=e.split("=");n[decodeURIComponent(t[0])]=decodeURIComponent(t[1]||"")}),n}function R(){return ye?ye.origin||ye.protocol+"//"+ye.host:""}function U(e){var n=""+e;0===n.indexOf("/")&&(n=R()+n);var t=n.replace(/#.*/,"").match(/(\?.*)/),r={href:n,hash:"",host:"",hostname:"",protocol:"",port:"",search:t?t[1]:""};r.path=n.replace(/^([a-z0-9.+-]*:)\/\//,function(e,n){return r.protocol=n,""}).replace(/^([a-z0-9.+-]*)(:\d+)?\//,function(e,n,t){var i=t||"";return r.port=i.replace(":",""),r.hostname=n,r.host=n+i,"/"}).replace(/(#.*)/,function(e,n){return r.hash=n,""});var i=r.hash.match(/#((.*)\?|(.*))/);return r.pathname=r.path.replace(/(\?|#.*).*/,""),r.origin=r.protocol+"//"+r.host,r.hashKey=i?i[2]||"":"",r.hashQuery=P(r.hash),r.searchQuery=P(r.search),r}function C(e,n){return re.isFunction(n)?B.arraySort(B.arrayMap(e,n,this)):B.arraySort(e,n)}function $(){return C.apply(this,arguments)[0]}function q(){return C.apply(this,arguments).reverse()[0]}function J(e){if(e){var n=parseFloat(e);return isNaN(n)?0:n}return 0}function W(e){var n=new RegExp("(?:"+re.objectKeys(e).join("|")+")","g");return function(t){return String(t||"").replace(n,function(n){return e[n]})}}e.version="1.5.25";var B={arrayUniq:n,uniq:n,arrayUnion:t,union:t,arraySort:r,sort:r,arrayShuffle:i,shuffle:i,arraySample:o,sample:o,arraySome:u,some:u,arrayEvery:a,every:a,arrayFilter:s,filter:s,arrayFind:c,find:c,arrayMap:f,map:f,arraySum:l,sum:l},z=Object.prototype.toString,K=Array.isArray||function(e){return"[object Array]"===z.call(e)},Y=Number.isInteger,L=0,Q=b(function(e,n){if(e.indexOf)return e.indexOf(n);for(var t=0,r=e.length;t<r;t++)if(n===e[t])return t}),V=b(function(e,n){if(e.lastIndexOf)return e.lastIndexOf(n);for(var t=e.length-1;t>=0;t--)if(n===e[t])return t;return-1}),X=x,G=function(e){if(e){var n=arguments;if(!0!==e)return Object.assign?Object.assign.apply(Object,n):S(e,n);if(n.length>1)return e=K(e[1])?[]:{},S(e,n,!0)}return e},Z=j,_=M,ee=O,ne=D,te=w,re={isNaN:isNaN,isFinite:isFinite,isArray:K,isFloat:function(e){return null!==e&&!isNaN(e)&&!Y(e)},isInteger:Y,isFunction:y,isBoolean:function(e){return"boolean"==typeof e},isString:h,isNumber:p,isRegExp:function(e){return"[object RegExp]"===z.call(e)},isObject:g,isPlainObject:d,isDate:m,isError:function(e){return"[object Error]"===z.call(e)},isTypeError:function(e){return!!e&&e.constructor===TypeError},isEmpty:function(e){if(0===e||!p(e)){for(var n in e)return!1;return!0}return!1},isNull:function(e){return null===e},isSymbol:v,isArguments:function(e){return"[object Arguments]"===z.call(e)},isElement:function(e){return e&&h(e.nodeName)&&p(e.nodeType)},isDocument:function(e){return e&&9===e.nodeType&&"undefined"!=typeof document},isWindow:function(e){return e&&e===e.window&&"undefined"!=typeof window},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isLeapYear:function(n){var t=(n?e.stringToDate(n):new Date).getFullYear();return t%4==0&&(t%100!=0||t%400==0)},getType:function(e){return null===e?""+e:v(e)?"symbol":m(e)?"date":K(e)?"array":typeof e},uniqueId:function(){return++L},getSize:function(e){var n=0;return h(e)||K(e)?e.length:(T(e,function(){n++}),n)},lastIndexOf:V,includes:x,contains:X,objectAssign:G,assign:G,extend:G,stringToJson:function(e){if(g(e))return e;if(h(e))try{return JSON.parse(e)}catch(e){console.error(e)}return{}},jsonToString:function(e){if(g(e))try{return JSON.stringify(e)}catch(e){console.error(e)}return e?""+e:""},objectKeys:j,keys:Z,objectValues:M,values:_,objectEntries:O,entries:ee,arrayFirst:D,first:ne,arrayLast:w,last:te,objectEach:N,arrayEach:E,each:T,groupBy:function(e,n,t){var r,i,o={};return e&&(h(n)?(i=n,n=null):n=y(n)?n.bind(t||this):i=null,T(e,function(t,u){r=n?n(t,u,e):i?t[i]:t,o[r]?o[r].push(t):o[r]=[t]})),o},objectMap:function(e,n,t){var r={};return T(e,function(i,o){r[o]=n.call(t||this,i,o,e)}),r},clone:F},ie={browse:function(){var e={isNode:!1,isMobile:!1,isPC:!1};if("undefined"==typeof window&&"undefined"!=typeof process)e.nodeJS=!0;else if(e.isMobile=function(){for(var e=["Android","webOS","iPhone","iPad","iPod","SymbianOS","BlackBerry","Windows Phone"],n=navigator.userAgent,t=0;t<e.length;t++)if(n.indexOf(e[t])>0)return!0;return!1}(),e.isPC=!e.isMobile,"undefined"!=typeof document){var n=document.body||document.documentElement;re.arrayEach(["webkit","khtml","moz","ms","o"],function(t){e["-"+t]=!!n[t+"MatchesSelector"]})}return e}},oe=decodeURIComponent,ue=encodeURIComponent;re.objectAssign(I,{setItem:function(e,n){I(e,n)},getItem:function(e){return I(e)},removeItem:function(e){I(e,null,{expires:-1})},getJSON:function(){return I()}});var ae={cookie:I},se=Date.now||function(){return(new Date).getTime()},ce=[{rules:[["yyyy",4],["yyy",3],["yy",2]]},{rules:[["MM",2],["M",1]],offset:-1},{rules:[["dd",2],["d",1]]},{rules:[["HH",2],["H",1]]},{rules:[["mm",2],["m",1]]},{rules:[["ss",2],["s",1]]},{rules:[["SSS",3],["SS",2],["S",1]]}],fe=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]],le={timestamp:se,now:se,stringToDate:k,dateToString:function(e,n){if(e){if(e=k(e),re.isDate(e)){var t=["日","一","二","三","四","五","六"],r={"q+":Math.floor((e.getMonth()+3)/3),"M+":e.getMonth()+1,"E+":e.getDay(),"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),S:e.getMilliseconds()},i=String(n||"yyyy-MM-dd HH:mm:ss").replace(/(y+)/,function(n){return(""+e.getFullYear()).substr(4-n.length)});for(var o in r)if(r.hasOwnProperty(o)){var u=""+r[o];i=i.replace(new RegExp("("+o+")"),function(e){return"q+"===o||"E+"===o?t[u]:1===e.length?u:("00"+u).substr(u.length)})}return i}return e}return""},getWhatMonth:H,getWhatWeek:function(e,n,t){var r=k(e),i=Number(/^[0-7]$/.test(t)?t:r.getDay()),o=r.getDay(),u=r.getTime()+864e5*((0===i?7:i)-(0===o?7:o));return n&&!isNaN(n)&&(u+=6048e5*n),new Date(u)},getWhatDay:function(e,n){return new Date(k(e).getTime()+(n&&!isNaN(n)?864e5*n:0))},getDaysOfMonth:function(e,n){return Math.floor((H(e,n,"last").getTime()-H(e,n,"first").getTime())/864e5)+1},getDateDiff:function(e,n,t){var r={done:!1},i=k(e).getTime(),o=n?k(n).getTime():new Date;if(i<o){var u,a=o-i,s=t&&t.length>0?t:fe;r.done=!0;for(var c=0,f=s.length;c<f;c++)a>=(u=s[c])[1]?c===f-1?r[u[0]]=a||0:(r[u[0]]=Math.floor(a/u[1]),a-=r[u[0]]*u[1]):r[u[0]]=0}return r}},ye=null;"undefined"!=typeof location&&(ye=location);var he={parseUrl:U,getBaseURL:function(){if(ye){var e=ye.pathname,n=re.lastIndexOf(e,"/")+1;return R()+(n===e.length?e:e.substring(0,n))}return""},locat:function(){return ye?U(ye.href):{}}},pe={getRandom:function(e,n){return e>=n?e:(e>>=0)+Math.round(Math.random()*((n||9)-e))},arrayMin:$,min:$,arrayMax:q,max:q,commafy:function(e,n){var t=re.objectAssign({spaceNumber:3,separator:",",fixed:0},n),r=parseFloat((""+e).replace(/,/g,"")||0).toFixed(t.fixed).split(".");return r[0].replace(new RegExp("(?=(?!(\\b))(\\d{"+t.spaceNumber+"})+$)","g"),t.separator)+(r[1]?"."+r[1]:"")},toNumber:J,stringToNumber:J},ge={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},de={};re.arrayEach(re.objectKeys(ge),function(e){de[ge[e]]=e});var me={escape:W(ge),unescape:W(de)},ve={};return re.objectAssign(ve,B,re,ie,ae,le,he,pe,me),e.mixin=function(n){ve.objectEach(n,function(n,t){e[t]=-1==="cookie".indexOf(t)&&ve.isFunction(n)?function(){var t=n.apply(e.$context,arguments);return e.$context=null,t}:n})},e.mixin(ve),e});