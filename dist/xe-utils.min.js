/**
 * xe-utils.js v1.5.21
 * (c) 2017-2018 Xu Liangzhan
 * ISC License.
 * @preserve
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.XEUtils=n()}(this,function(){"use strict";function t(){}function n(t){var n=[];return nt.isArray(t)&&nt.arrayEach(t,function(t){n.includes(t)||n.push(t)}),n}function e(){for(var t=[],e=0,r=arguments.length;e<r;e++)t=t.concat(arguments[e]);return n(t)}function r(t,n,e){return nt.isArray(t)?t.sort(n?nt.isFunction(n)?n.bind(e||this):function(t,e){return t[n]>e[n]?1:-1}:function(t,n){return t>n?1:-1}):t}function i(t){for(var n=[],e=nt.objectValues(t),r=e.length-1;r>=0;r--){var i=r>0?ht.getRandom(0,r):0;n.push(e[i]),e.splice(i,1)}return n}function o(t,n){var e=i(t);return 1===arguments.length?e[0]:(n<e.length&&(e.length=n||0),e)}function u(t,n,e){if(t){if(nt.isArray(t))return t.some(n,e||this);for(var r in t)if(t.hasOwnProperty(r)&&n.call(e||this,t[r],r,t))return!0}return!1}function a(t,n,e){if(t){if(nt.isArray(t))return t.every(n,e||this);for(var r in t)if(t.hasOwnProperty(r)&&!n.call(e||this,t[r],r,t))return!1}return!0}function c(t,n,e){if(t){if(nt.isArray(t))return t.filter(n,e||this);var r={};return nt.each(t,function(i,o){n.call(e||this,i,o,t)&&(r[o]=i)}),r}return[]}function s(t,n,e){if(t){if(nt.isArray(t))return t.find(n,e||this);for(var r in t)if(t.hasOwnProperty(r)&&n.call(e||this,t[r],r,t))return t[r]}}function f(t,n,e){var r=[];if(t){if(nt.isArray(t))return t.map(n,e||this);nt.each(t,function(){r.push(n.apply(e||this,arguments))})}return r}function l(t){return"function"==typeof t}function h(t){return"string"==typeof t}function y(t){return"number"==typeof t}function p(t){return"object"==typeof t}function g(t){return!!t&&t.constructor===Object}function m(t){return"[object Date]"===W.call(t)}function d(t){return"undefined"!=typeof Symbol&&Symbol.isSymbol?Symbol.isSymbol(t):"symbol"==typeof t}function v(t){return function(n,e){if(n){if(h(n)||z(n))return t(n,e);for(var r in n)if(e===n[r])return r}return-1}}function b(t,n){return-1!==B(t,n)}function j(t,n,e){for(var r,i=1,o=n.length;i<o;i++)r=n[i],w(S(n[i]),function(n){t[n]=e?F(r[n],e):r[n]});return t}function S(t){var n=[];if(t){if(Object.keys)return Object.keys(t);E(t,function(t,e){n.push(e)})}return n}function x(t){if(Object.values)return t?Object.values(t):[];var n=[];return w(S(t),function(e){n.push(t[e])}),n}function M(t){if(Object.entries)return t?Object.entries(t):[];var n=[];return w(S(t),function(e){n.push([e,t[e]])}),n}function O(t){return x(t)[0]}function D(t){var n=x(t);return n[n.length-1]}function E(t,n,e){for(var r in t)t.hasOwnProperty(r)&&n.call(e||this,t[r],r,t)}function w(t,n,e){for(var r=0,i=t.length||0;r<i;r++)n.call(e||this,t[r],r,t)}function N(t,n,e){return t?z(t)?l(t.forEach)?t.forEach(n,e||this):w(t,n,e||this):E(t,n,e||this):t}function A(n){return g(n)?function(t){var n={};return N(t,function(t,e){n[e]=A(t)}),n}(n):z(n)?function(n){return t.arrayMap(n,A)}(n):n}function F(t,n){return t?n?A(t):V(g(t)?{}:[],t):t}function T(t,n,e){var r=[],i="undefined"!=typeof document;if(this&&this.$context&&(this.$context=null),nt.isArray(t)?r=t:arguments.length>1?r=[nt.objectAssign({name:t,value:n},e)]:nt.isObject(t)&&(r=[t]),!(r.length>0)){var o={};return i&&document.cookie&&nt.arrayEach(document.cookie.split("; "),function(t){var n=t.indexOf("=");o[rt(t.substring(0,n))]=rt(t.substring(n+1)||"")}),1===arguments.length?o[t]:o}i&&nt.arrayEach(r,function(t){var n=nt.objectAssign({},t),e=[];n.name&&(e.push(it(n.name)+"="+it(nt.isObject(n.value)?JSON.stringify(n.value):n.value)),void 0!==n.expires&&(n.expires=new Date((new Date).getTime()+864e5*parseFloat(n.expires)).toUTCString()),nt.arrayEach(["expires","path","domain","secure"],function(t){void 0!==n[t]&&e.push(t+"="+n[t])})),document.cookie=e.join("; ")})}function I(t,n){if(t){if(nt.isDate(t))return t;if(!isNaN(t))return new Date(t);if(nt.isString(t)){n=n||"yyyy-MM-dd HH:mm:ss.SSS";var e=[];return nt.arrayEach(at,function(r){for(var i,o,u=0,a=r.rules,c=a.length;u<c;u++){if(i=a[u],(o=n.indexOf(i[0]))>-1){e.push(parseFloat(t.substring(o,o+i[1])||0)+(r.offset||0));break}u===c-1&&e.push(0)}}),new Date(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}}return"Invalid Date"}function k(t,n,e){var r=I(t),i=n&&!isNaN(n)?n:0,o=r.getHours(),u=r.getMinutes(),a=r.getSeconds(),c=r.getMilliseconds();if("first"===e){var s=r.getFullYear(),f=r.getMonth();return(f+=i)<0?new Date(s-Math.ceil((f=Math.abs(f))/12),12-(f%12||1),1,o,u,a,c):new Date(s+Math.floor(f/12),f%12,1,o,u,a,c)}if("last"===e)return new Date(k(r,i+1,"first").getTime()-864e5);var l=r.getDate(),h=k(r,i,"first"),y=h.getMonth();for(h.setDate(l);y<h.getMonth();)h.setDate(--l);return h}function H(t){var n={},e=t.split("?")[1]||"";return e&&nt.arrayEach(e.split("&"),function(t){var e=t.split("=");n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]||"")}),n}function R(){return ft.origin||ft.protocol+"//"+ft.host}function U(t){var n=""+t;0===n.indexOf("/")&&(n=R()+n);var e=n.replace(/#.*/,"").match(/(\?.*)/),r={href:n,hash:"",host:"",hostname:"",protocol:"",port:"",search:e?e[1]:""};r.path=n.replace(/^([a-z0-9.+-]*:)\/\//,function(t,n){return r.protocol=n,""}).replace(/^([a-z0-9.+-]*)(:\d+)?\//,function(t,n,e){var i=e||"";return r.port=i.replace(":",""),r.hostname=n,r.host=n+i,"/"}).replace(/(#.*)/,function(t,n){return r.hash=n,""});var i=location.hash.match(/#((.*)\?|(.*))/);return r.pathname=r.path.replace(/(\?|#.*).*/,""),r.origin=r.protocol+"//"+r.host,r.hashKey=i?i[2]:"",r.hashQuery=H(r.hash),r.searchQuery=H(r.search),r}function q(t,n){return nt.isFunction(n)?J.arraySort(J.arrayMap(t,n,this)):J.arraySort(t,n)}function P(){return q.apply(this,arguments)[0]}function $(){return q.apply(this,arguments).reverse()[0]}function C(t){var n=new RegExp("(?:"+nt.objectKeys(t).join("|")+")","g");return function(e){return String(e||"").replace(n,function(n){return t[n]})}}t.version="1.5.21";var J={arrayUniq:n,uniq:n,arrayUnion:e,union:e,arraySort:r,sort:r,arrayShuffle:i,shuffle:i,arraySample:o,sample:o,arraySome:u,some:u,arrayEvery:a,every:a,arrayFilter:c,filter:c,arrayFind:s,find:s,arrayMap:f,map:f},W=Object.prototype.toString,z=Array.isArray||function(t){return"[object Array]"===W.call(t)},K=Number.isInteger,Y=0,B=v(function(t,n){if(t.indexOf)return t.indexOf(n);for(var e=0,r=t.length;e<r;e++)if(n===t[e])return e}),L=v(function(t,n){if(t.lastIndexOf)return t.lastIndexOf(n);for(var e=t.length-1;e>=0;e--)if(n===t[e])return e;return-1}),Q=b,V=function(t){if(t){var n=arguments;if(!0!==t)return Object.assign?Object.assign.apply(Object,n):j(t,n);if(n.length>1)return t=z(t[1])?[]:{},j(t,n,!0)}return t},X=S,G=x,Z=M,_=O,tt=D,nt={isNaN:isNaN,isFinite:isFinite,isArray:z,isFloat:function(t){return null!==t&&!isNaN(t)&&!K(t)},isInteger:K,isFunction:l,isBoolean:function(t){return"boolean"==typeof t},isString:h,isNumber:y,isRegExp:function(t){return"[object RegExp]"===W.call(t)},isObject:p,isPlainObject:g,isDate:m,isError:function(t){return"[object Error]"===W.call(t)},isTypeError:function(t){return!!t&&t.constructor===TypeError},isEmpty:function(t){if(0===t||!y(t)){for(var n in t)return!1;return!0}return!1},isNull:function(t){return null===t},isSymbol:d,isArguments:function(t){return"[object Arguments]"===W.call(t)},isElement:function(t){return t&&h(t.nodeName)&&y(t.nodeType)},isDocument:function(t){return t&&9===t.nodeType&&"undefined"!=typeof document},isWindow:function(t){return t&&t===t.window&&"undefined"!=typeof window},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isLeapYear:function(n){var e=(n?t.stringToDate(n):new Date).getFullYear();return e%4==0&&(e%100!=0||e%400==0)},getType:function(t){return null===t?""+t:d(t)?"symbol":m(t)?"date":z(t)?"array":typeof t},uniqueId:function(){return++Y},getSize:function(t){var n=0;return h(t)||z(t)?t.length:(N(t,function(){n++}),n)},lastIndexOf:L,includes:b,contains:Q,objectAssign:V,assign:V,extend:V,stringToJson:function(t){if(p(t))return t;if(h(t))try{return JSON.parse(t)}catch(t){console.error(t)}return{}},jsonToString:function(t){if(p(t))try{return JSON.stringify(t)}catch(t){console.error(t)}return t?""+t:""},objectKeys:S,keys:X,objectValues:x,values:G,objectEntries:M,entries:Z,arrayFirst:O,first:_,arrayLast:D,last:tt,objectEach:E,arrayEach:w,each:N,groupBy:function(t,n,e){var r,i,o={};return t&&(h(n)?(i=n,n=null):n=l(n)?n.bind(e||this):i=null,N(t,function(e,u){r=n?n(e,u,t):i?e[i]:e,o[r]?o[r].push(e):o[r]=[e]})),o},objectMap:function(t,n,e){var r={};return N(t,function(i,o){r[o]=n.call(e||this,i,o,t)}),r},clone:F},et={browse:function(){var t={};if("undefined"!=typeof document){var n=document.body||document.documentElement;nt.arrayEach(["webkit","khtml","moz","ms","o"],function(e){t["-"+e]=!!n[e+"MatchesSelector"]})}return t}},rt=decodeURIComponent,it=encodeURIComponent;nt.objectAssign(T,{setItem:function(t,n){T(t,n)},getItem:function(t){return T(t)},removeItem:function(t){T(t,null,{expires:-1})},getJSON:function(){return T()}});var ot={cookie:T},ut=Date.now||function(){return(new Date).getTime()},at=[{rules:[["yyyy",4],["yyy",3],["yy",2]]},{rules:[["MM",2],["M",1]],offset:-1},{rules:[["dd",2],["d",1]]},{rules:[["HH",2],["H",1]]},{rules:[["mm",2],["m",1]]},{rules:[["ss",2],["s",1]]},{rules:[["SSS",3],["SS",2],["S",1]]}],ct=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]],st={timestamp:ut,now:ut,stringToDate:I,dateToString:function(t,n){if(t){if(t=I(t),nt.isDate(t)){var e=["日","一","二","三","四","五","六"],r={"q+":Math.floor((t.getMonth()+3)/3),"M+":t.getMonth()+1,"E+":t.getDay(),"d+":t.getDate(),"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),S:t.getMilliseconds()},i=String(n||"yyyy-MM-dd HH:mm:ss").replace(/(y+)/,function(n){return(""+t.getFullYear()).substr(4-n.length)});for(var o in r)if(r.hasOwnProperty(o)){var u=""+r[o];i=i.replace(new RegExp("("+o+")"),function(t){return"q+"===o||"E+"===o?e[u]:1===t.length?u:("00"+u).substr(u.length)})}return i}return t}return""},getWhatMonth:k,getWhatWeek:function(t,n,e){var r=Number(/^[0-7]$/.test(e)?e:0),i=I(t),o=i.getDay(),u=i.getTime()+864e5*((0===r?7:r)-(0===o?7:o));return n&&!isNaN(n)&&(u+=6048e5*n),new Date(u)},getWhatDay:function(t,n){return new Date(I(t).getTime()+(n&&!isNaN(n)?864e5*n:0))},getDaysOfMonth:function(t,n){return Math.floor((k(t,n,"last").getTime()-k(t,n,"first").getTime())/864e5)+1},getDateDiff:function(t,n,e){var r={},i=I(t).getTime(),o=n?I(n).getTime():new Date;if(i<o)for(var u,a=o-i,c=e&&e.length>0?e:ct,s=0,f=c.length;s<f;s++)a>=(u=c[s])[1]&&(s===f-1?a&&(r[u[0]]=a):(r[u[0]]=Math.floor(a/u[1]),a-=r[u[0]]*u[1]));return r}},ft=null;"undefined"!=typeof location&&(ft=location);var lt={parseUrl:U,getBaseURL:function(){var t=ft.pathname,n=nt.lastIndexOf(t,"/")+1;return R()+(n===t.length?t:t.substring(0,n))},locat:function(){return ft?U(ft.href):{}}},ht={getRandom:function(t,n){return t>=n?t:(t>>=0)+Math.round(Math.random()*((n||9)-t))},arrayMin:P,min:P,arrayMax:$,max:$,commafy:function(t,n){var e=nt.objectAssign({spaceNumber:3,separator:",",fixed:0},n),r=parseFloat((""+t).replace(/,/g,"")||0).toFixed(e.fixed).split(".");return r[0].replace(new RegExp("(?=(?!(\\b))(\\d{"+e.spaceNumber+"})+$)","g"),e.separator)+(r[1]?"."+r[1]:"")}},yt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},pt={};nt.arrayEach(nt.objectKeys(yt),function(t){pt[yt[t]]=t});var gt={escape:C(yt),unescape:C(pt)},mt={};return nt.objectAssign(mt,J,nt,et,ot,st,lt,ht,gt),t.mixin=function(n){mt.objectEach(n,function(n,e){t[e]=-1==="cookie".indexOf(e)&&mt.isFunction(n)?function(){var e=n.apply(t.$context,arguments);return t.$context=null,e}:n})},t.mixin(mt),t});